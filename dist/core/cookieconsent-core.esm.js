/*!
* CookieConsent 3.0.0-rc.13
* https://github.com/orestbida/cookieconsent
* Author Orest Bida
* Released under the MIT License
*/
const e='opt-in',t='opt-out',o='data-category';class n{constructor(){this.t={mode:e,revision:0,autoClearCookies:!0,manageScriptTags:!0,hideFromBots:!0,cookie:{name:'cc_cookie',expiresAfterDays:182,domain:'',path:'/',sameSite:'Lax'}},this.o={i:{},l:'',_:{},p:{},u:{},m:[],g:!1,C:null,v:null,S:null,h:'',D:!0,T:!1,N:!0,k:[],I:!1,j:'',F:!1,O:[],M:[],A:[],R:[],P:!1,B:!1,J:!1,L:[],U:[],G:[],H:{},q:{},K:{},V:{},W:{},X:[],Y:[]},this.Z={$:{},ee:{}},this.te={},this.oe={ne:'cc:onFirstConsent',se:'cc:onConsent',ce:'cc:onChange'}}}const s=new n,c=(e,t)=>e.indexOf(t),a=(e,t)=>-1!==c(e,t),r=e=>Array.isArray(e),i=e=>'string'==typeof e,l=e=>!!e&&'object'==typeof e&&!r(e),f=e=>'function'==typeof e,d=e=>Object.keys(e),_=e=>Array.from(new Set(e)),p=e=>e.dispatchEvent(new Event('change')),u=e=>{const t=document.createElement(e);return'button'===e&&(t.type=e),t},m=(e,t,o)=>e.setAttribute(t,o),g=(e,t,o)=>{e.removeAttribute(o?'data-'+t:t)},C=(e,t,o)=>e.getAttribute(o?'data-'+t:t),v=e=>{if('object'!=typeof e)return e;if(e instanceof Date)return new Date(e.getTime());let t=Array.isArray(e)?[]:{};for(let o in e){let n=e[o];t[o]=v(n)}return t},y=()=>{const e={},{O:t,H:o,q:n}=s.o;for(const s of t)e[s]=h(n[s],d(o[s]));return e},S=()=>{const e=s.t.cookie.expiresAfterDays;return f(e)?e(s.o.j):e},h=(e,t)=>{const o=e||[],n=t||[];return o.filter((e=>!a(n,e))).concat(n.filter((e=>!a(o,e))))},b=e=>{s.o.M=_(e),s.o.j=(()=>{let e='custom';const{M:t,O:o,A:n}=s.o,c=t.length;return c===o.length?e='all':c===n.length&&(e='necessary'),e})()},w=(e,t,o)=>{const{ce:n,se:c,ne:a,ae:r,re:i,ie:l}=s.te,d=s.oe,_={cookie:s.o.u};e===d.ne?f(a)&&a(v(_)):e===d.se?f(c)&&c(v(_)):(_.changedCategories=s.o.k,_.changedServices=s.o.V,f(n)&&n(v(_))),((e,t)=>{dispatchEvent(new CustomEvent(e,{detail:t}))})(e,v(_))},D=e=>{const{q:t,V:n,O:c,H:r,X:i,Y:l,u:d,k:_}=s.o;for(const e of c){const o=n[e]||t[e]||[];for(const n of o){const o=r[e][n];if(!o)continue;const{onAccept:s,onReject:c}=o;!o.le&&a(t[e],n)&&f(s)?(o.le=!0,s()):o.le&&!a(t[e],n)&&f(c)&&(o.le=!1,c())}}if(!s.t.manageScriptTags)return;const p=i,v=e||d.categories||[],y=(e,s)=>{if(s<e.length){const c=e[s],r=l[s],i=r.fe,f=r.de,d=a(v,i),p=!!f&&a(t[i],f);if(!r._e){let t=!f&&!r.pe&&d,l=f&&!r.pe&&p,v=!f&&r.pe&&!d&&a(_,i),S=f&&r.pe&&!p&&a(n[i]||[],f);if(t||v||l||S){r._e=!0;const t=C(c,'type',!0);g(c,'type',!!t),g(c,o);let n=C(c,'src',!0);n&&g(c,'src',!0);const a=u('script');a.textContent=c.innerHTML;for(const{nodeName:e}of c.attributes)m(a,e,c[e]||C(c,e));if(t&&(a.type=t),n?a.src=n:n=c.src,n&&(a.onload=a.onerror=()=>{y(e,++s)}),c.replaceWith(a),n)return}}y(e,++s)}};y(p,0)},T=e=>{const{hostname:t,protocol:o}=location,{name:n,path:c,domain:r,sameSite:i}=s.t.cookie,l=encodeURIComponent(JSON.stringify(s.o.u)),f=e?(()=>{const e=s.o.S,t=e?new Date-e:0;return 864e5*S()-t})():864e5*S(),d=new Date;d.setTime(d.getTime()+f);let _=n+'='+l+(0!==f?'; expires='+d.toUTCString():'')+'; Path='+c+'; SameSite='+i;a(t,'.')&&(_+='; Domain='+r),'https:'===o&&(_+='; Secure'),document.cookie=_,s.o.u},E=(e,t,o)=>{const n=o||s.t.cookie.domain,c=t||s.t.cookie.path,a='www.'===n.slice(0,4),r=a&&n.substring(4),i=(e,t)=>{document.cookie=e+'=; path='+c+(t?'; domain=.'+t:'')+'; expires=Thu, 01 Jan 1970 00:00:01 GMT;'};for(const t of e)i(t),i(t,n),a&&i(t,r)},N=e=>(e=>{let t;try{t=JSON.parse(decodeURIComponent(e))}catch(e){t={}}return t})(k(e||s.t.cookie.name,!0)),k=(e,t)=>{const o=document.cookie.match('(^|;)\\s*'+e+'\\s*=\\s*([^;]+)');return o?t?o.pop():e:''},x=e=>{const t=document.cookie.split(/;\s*/),o=[];for(const n of t){let t=n.split('=')[0];if(e)try{e.test(t)&&o.push(t)}catch(e){}else o.push(t)}return o},I=(o,n=[])=>{((e,t)=>{const{O:o,M:n,A:c,ue:l,K:f,H:_}=s.o;let p=[];if(e){r(e)?p.push(...e):i(e)&&(p='all'===e?o:[e]);for(const e of o)f[e]=a(p,e)?d(_[e]):[]}else p=l?(()=>{const e=s.Z.$;if(!e)return[];let t=[];for(let o in e)e[o].checked&&t.push(o);return t})():n;p=p.filter((e=>!a(o,e)||!a(t,e))),p.push(...c),b(p)})(o,n),(e=>{const t=s.o,{K:o,A:n,q:c,H:r,O:i}=t,l=i;t.W=v(c);for(const e of l){const t=r[e],s=d(t),i=o[e]?.length>0,l=a(n,e);if(0!==s.length){if(c[e]=[],l)c[e].push(...s);else if(i){const t=o[e];c[e].push(...t)}else c[e]=[];c[e]=_(c[e])}}})(),(()=>{const o=s.o;s.t.mode===t&&o.D?o.k=h(o.R,o.M):o.k=h(o.M,o.u.categories);let n=o.k.length>0,r=!1;for(const e of o.O)o.V[e]=h(o.q[e],o.W[e]),o.V[e].length>0&&(r=!0);const i=s.Z.$;for(let e in i)i[e].checked=a(o.M,e);for(const e of o.O){const t=s.Z.ee[e],n=o.q[e];for(const e in t)t[e].checked=a(n,e)}o.v||(o.v=new Date),o.h||(o.h=([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))),o.u={categories:v(o.M),revision:s.t.revision,data:o.C,consentTimestamp:o.v.toISOString(),consentId:o.h,services:v(o.q)};let l=!1;(o.D||n||r)&&(o.D&&(o.D=!1,l=!0),o.S?o.S=new Date:o.S=o.v,o.u.lastConsentTimestamp=o.S.toISOString(),T(),s.t.autoClearCookies&&(l||!o.D&&n)&&(e=>{const t=s.o,o=x();t.I=!1;let n=e?t.O:t.k;n=n.filter((e=>{let o=t.F[e];return!!o&&!o.readOnly&&!!o.autoClear}));for(const s of n){const n=t.F[s].autoClear,r=n?.cookies||[],i=a(t.k,s),l=!a(t.M,s),f=i&&l;if(e&&l||!e&&f){!0===n.reloadPage&&f&&(t.I=!0);for(const e of r){let t=[];const n=e.name,s=e.domain,a=e.path;if(n instanceof RegExp)for(let e of o)n.test(e)&&t.push(e);else{let e=c(o,n);e>-1&&t.push(o[e])}t.length>0&&E(t,a,s)}}}})(l),D()),l&&(w(s.oe.ne),w(s.oe.se),s.t.mode===e)||((n||r)&&w(s.oe.ce),o.I&&location.reload())})()},j=e=>{const t=s.o.D?[]:s.o.M;return a(t,e)},F=(e,t)=>{const{O:o,H:n}=s.o;if(!(e&&t&&i(t)&&a(o,t)&&0!==d(n[t]).length))return!1;((e,t)=>{const o=s.o,{H:n,K:c,ue:l}=o,f=s.Z.ee[t]||{},u=s.Z.$[t]||{},m=d(n[t]);if(c[t]=[],i(e)){if('all'===e){if(c[t].push(...m),l)for(let e in f)f[e].checked=!0,p(f[e])}else if(a(m,e)&&c[t].push(e),l)for(let t in f)f[t].checked=e===t,p(f[t])}else if(r(e))for(let o of m){const n=a(e,o);n&&c[t].push(o),l&&(f[o].checked=n,p(f[o]))}const g=0===c[t].length;o.M=g?o.M.filter((e=>e!==t)):_([...o.M,t]),l&&(u.checked=!g,p(u))})(e,t),I()},O=(e,t)=>{const o=s.o.D?[]:s.o.q[t];return a(o,e)},M=e=>''!==k(e,!0),A=(e,t,o)=>{let n=[];const s=e=>{if(i(e)){let t=k(e);''!==t&&n.push(t)}else n.push(...x(e))};if(r(e))for(let t of e)s(t);else s(e);E(n,t,o)},R=()=>{const{j:e,q:t}=s.o,{accepted:o,rejected:n}=(()=>{const{D:e,M:t,O:o}=s.o;return{accepted:t,rejected:e?[]:o.filter((e=>!a(t,e)))}})();return v({acceptType:e,acceptedCategories:o,rejectedCategories:n,acceptedServices:t,rejectedServices:y()})},P=(e,t)=>{let o=document.querySelector('script[src="'+e+'"]');return new Promise((n=>{if(o)return n(!0);if(o=u('script'),l(t))for(const e in t)m(o,e,t[e]);var s,c;o.onload=()=>n(!0),o.onerror=()=>{o.remove(),n(!1)},o.src=e,s=document.head,c=o,s.appendChild(c)}))},B=e=>{let t,o=e.value,n=e.mode,c=!1;const a=s.o;if('update'===n){a.C=t=J('data');const e=typeof t==typeof o;if(e&&'object'==typeof t){!t&&(t={});for(let e in o)t[e]!==o[e]&&(t[e]=o[e],c=!0)}else!e&&t||t===o||(t=o,c=!0)}else t=o,c=!0;return c&&(a.C=t,a.u.data=t,T(!0)),c},J=(e,t)=>{const o=N(t);return e?o[e]:o},L=e=>{const t=s.t,o=s.o.i;return e?t[e]||o[e]:{...t,...o,cookie:{...t.cookie}}},U=()=>!s.o.D,G=async e=>{const{o:n,t:c,oe:f}=s,_=window;if(!_._ccRun){if(_._ccRun=!0,(e=>{const{Z:n,t:c,o:r}=s,i=c,f=r,{cookie:_}=i,p=s.te,u=e.cookie,m=e.categories,g=d(m)||[],v=navigator,y=document;n.me=y,n.ge=y.documentElement,_.domain=location.hostname,f.i=e,f.F=m,f.O=g,p.ne=e.onFirstConsent,p.se=e.onConsent,p.ce=e.onChange;const{mode:S,autoClearCookies:h,revision:b,manageScriptTags:w,hideFromBots:D}=e;S===t&&(i.mode=S),'boolean'==typeof h&&(i.autoClearCookies=h),'boolean'==typeof w&&(i.manageScriptTags=w),'number'==typeof b&&b>=0&&(i.revision=b,f.T=!0),!1===D&&(i.hideFromBots=!1),!0===i.hideFromBots&&v&&(f.P=v.userAgent&&/bot|crawl|spider|slurp|teoma/i.test(v.userAgent)||v.webdriver),l(u)&&(i.cookie={..._,...u}),i.autoClearCookies,f.T,i.manageScriptTags,(e=>{const{F:t,H:o,q:n,K:c,A:a}=s.o;for(let r of e){const e=t[r],i=e.services||{},f=l(i)&&d(i)||[];o[r]={},n[r]=[],c[r]=[],e.readOnly&&(a.push(r),n[r]=f),s.Z.ee[r]={};for(let e of f){const t=i[e];t.le=!1,o[r][e]=t}}})(g),(()=>{if(!s.t.manageScriptTags)return;const e=s.o;var t,n;e.X=(t=s.Z.me,n='script['+o+']',t.querySelectorAll(n)),e.Y=[];for(const t of e.X){let n=C(t,o),s=t.dataset.service||'',c=!1;if(n&&'!'===n.charAt(0)&&(n=n.slice(1),c=!0),'!'===s.charAt(0)&&(s=s.slice(1),c=!0),a(e.O,n)&&(e.Y.push({_e:!1,pe:c,fe:n,de:s}),s)){const t=e.H[n];t[s]||(t[s]={le:!1})}}})()})(e),n.P)return;if((()=>{const e=s.o,o=s.t,n=N(),{categories:c,services:a,consentId:l,consentTimestamp:f,lastConsentTimestamp:d,data:_,revision:p}=n,u=r(c);e.u=n,e.h=l;const m=!!l&&i(l);e.v=f,e.v&&(e.v=new Date(f)),e.S=d,e.S&&(e.S=new Date(d)),e.C=void 0!==_?_:null,e.T&&m&&p!==o.revision&&(e.N=!1),e.D=!(m&&e.N&&e.v&&e.S&&u),e.D,e.D?o.mode===t&&((()=>{const e=s.o;for(const t of e.O){const o=e.F[t];if(o.enabled||o.readOnly){e.R.push(t);const o=e.H[t]||{};for(let n in o)e.q[t].push(n)}}})(),e.M=[...e.R]):(e.q={...e.q,...a},b([...e.A,...c])),e.K={...e.q}})(),U())return D(),w(f.se);c.mode===t&&D(n.R)}},H=e=>{const{name:t,path:o,domain:c}=s.t.cookie;e&&A(t,o,c);for(const{Ce:e,ve:t,ye:o}of s.o.m)e.removeEventListener(t,o);const a=new n;for(const e in s)s[e]=a[e];window._ccRun=!1};export{I as acceptCategory,F as acceptService,j as acceptedCategory,O as acceptedService,A as eraseCookies,L as getConfig,J as getCookie,R as getUserPreferences,P as loadScript,H as reset,G as run,B as setCookieData,U as validConsent,M as validCookie};
